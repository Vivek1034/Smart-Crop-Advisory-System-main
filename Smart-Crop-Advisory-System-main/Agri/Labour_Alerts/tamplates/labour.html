<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Labour Scheduling & Alerts</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Inter', sans-serif; }
    body { background:#f4f4f9; color:#333; min-height:100vh; }
    a { text-decoration:none; color:inherit; }

    /* Header */
    header { background:#4caf50; color:white; padding:1rem 2rem; display:flex; justify-content:space-between; align-items:center; }
    header h1 { font-size:1.4rem; display:flex; align-items:center; gap:0.5rem; }
    .header-icon { font-size:1.6rem; }
    .header-actions { display:flex; gap:1rem; align-items:center; }
    .theme-toggle, .back-button { cursor:pointer; border:none; padding:0.5rem 1rem; border-radius:6px; font-size:0.9rem; }
    .theme-toggle { background:rgba(255,255,255,0.2); color:white; }
    .back-button { background:rgba(0,0,0,0.2); color:white; }

    /* Container & Tabs */
    .container { max-width:1200px; margin:2rem auto; padding:0 1rem; }
    .tabs { display:flex; gap:1rem; border-bottom:2px solid #ddd; margin-bottom:1.5rem; }
    .tab { padding:0.6rem 1rem; cursor:pointer; display:flex; align-items:center; gap:0.5rem; border-radius:6px 6px 0 0; background:#eee; }
    .tab.active { background:#4caf50; color:white; }

    /* Content */
    .content { display:none; animation:fadeIn 0.3s; }
    .content.active { display:block; }
    @keyframes fadeIn { from{opacity:0} to{opacity:1} }

    /* Cards */
    .card { background:white; border-radius:10px; padding:1.2rem 1.5rem; margin-bottom:1.5rem; box-shadow:0 3px 6px rgba(0,0,0,0.1); }
    .card-header h2 { display:flex; align-items:center; gap:0.5rem; margin-bottom:0.5rem; }
    .card-header p { font-size:0.9rem; color:#555; }

    /* Forms */
    .form-row { display:flex; gap:1rem; flex-wrap:wrap; margin-bottom:1rem; }
    .form-group { flex:1 1 200px; display:flex; flex-direction:column; }
    label { margin-bottom:0.3rem; font-weight:500; display:flex; align-items:center; gap:0.3rem; }
    input, select, textarea { padding:0.5rem; border-radius:6px; border:1px solid #ccc; font-size:1rem; width:100%; }
    textarea { resize:none; }
    .enhanced-btn { background:#4caf50; color:white; border:none; padding:0.6rem 1.1rem; border-radius:6px; cursor:pointer; font-size:1rem; display:flex; align-items:center; gap:0.5rem; transition:0.2s; }
    .enhanced-btn:hover { background:#45a049; }

    /* Job & Alerts Grid */
    .enhanced-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:1rem; }
    .job-card, .alert-card { background:#fff; padding:1rem; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    .job-card h4, .alert-card h4 { margin-bottom:0.5rem; }
    .stat-badge { background:#eee; padding:0.3rem 0.6rem; border-radius:5px; font-size:0.85rem; }
    .urgent { background:#ff7675; color:white; }
    .normal { background:#fdcb6e; color:white; }

    /* No Content */
    .no-content-message { text-align:center; color:#555; padding:2rem; }
    .no-content-message i { font-size:2rem; margin-bottom:0.5rem; }

    /* Loading */
    .loading-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.4); display:none; justify-content:center; align-items:center; z-index:999; }
    .loading-content { background:white; padding:1rem 2rem; border-radius:10px; display:flex; flex-direction:column; align-items:center; gap:0.5rem; }

    /* Dark Mode */
    .dark-mode { background:#222; color:white; }
    .dark-mode header { background:#333; }
    .dark-mode input, .dark-mode select, .dark-mode textarea { background:#444; color:white; border:1px solid #555; }
    .dark-mode .card, .dark-mode .job-card, .dark-mode .alert-card { background:#333; color:white; }
    .dark-mode .tab { background:#444; color:#ccc; }
    .dark-mode .tab.active { background:#4caf50; color:white; }
  </style>
</head>
<body>
<header>
  <h1><i class="fas fa-users header-icon"></i> Labour Scheduling & Alerts</h1>
  <div class="header-actions">
    <button class="theme-toggle"><i class="fas fa-sun"></i><span class="theme-text"> Light</span></button>
    <a href="../../dashboard.html" class="back-button">‚Üê Back to Dashboard</a>
  </div>
</header>

<div class="container">
  <!-- Tabs -->
  <div class="tabs">
    <div class="tab active" data-tab="schedule"><i class="fas fa-calendar-alt"></i> Labour Scheduling</div>
    <a href="labour-alerts.html" class="tab" data-tab="alerts"><i class="fas fa-bell"></i> Labour Alerts</a>
    
  </div>

  <!-- Scheduling -->
  <div id="schedule" class="content active">
    <div class="card">
      <div class="card-header">
        <h2><i class="fas fa-plus-circle"></i> Post Labour Requirement</h2>
        <p>Fill details to post your labour requirement</p>
      </div>
      <form id="labourForm">
        <div class="form-row">
          <div class="form-group">
            <label><i class="fas fa-hammer"></i> Type of Work</label>
            <select id="workType" required>
              <option value="">Select</option>
              <option value="Harvesting">üåæ Harvesting</option>
              <option value="Ploughing">üöú Ploughing</option>
              <option value="Weeding">üå± Weeding</option>
              <option value="Sowing">üåø Sowing</option>
              <option value="Irrigation">üíß Irrigation</option>
              <option value="Fertilizing">üß™ Fertilizing</option>
              <option value="Pest Control">üêõ Pest Control</option>
            </select>
          </div>
          <div class="form-group">
            <label><i class="fas fa-users"></i> No. of People</label>
            <input type="number" id="peopleCount" min="1" max="50" required/>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label><i class="fas fa-calendar"></i> Date Needed</label>
            <input type="date" id="date" required/>
          </div>
          <div class="form-group">
            <label><i class="fas fa-clock"></i> Duration (Days)</label>
            <input type="number" id="duration" min="1" max="30" value="1"/>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label><i class="fas fa-map-marker-alt"></i> Village</label>
            <input type="text" id="village" required/>
          </div>
          <div class="form-group">
            <label><i class="fas fa-map"></i> Taluka/District</label>
            <input type="text" id="location" required/>
          </div>
        </div>
        <div class="form-group">
          <label><i class="fas fa-home"></i> Address (Optional)</label>
          <textarea id="address" rows="2"></textarea>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label><i class="fas fa-rupee-sign"></i> Wage (‚Çπ/day)</label>
            <input type="number" id="wage" min="100" required/>
          </div>
          <div class="form-group">
            <label><i class="fas fa-phone"></i> Contact</label>
            <input type="tel" id="contact" pattern="[0-9]{10}" required/>
          </div>
        </div>
        <div class="form-group">
          <label><i class="fas fa-info-circle"></i> Additional Info</label>
          <textarea id="additionalInfo" rows="2"></textarea>
        </div>
        <button type="submit" class="enhanced-btn"><i class="fas fa-paper-plane"></i> Post Requirement</button>
      </form>
    </div>

    <h3><i class="fas fa-briefcase"></i> Posted Jobs <span class="stat-badge">Active: <span id="activeJobCount">0</span></span></h3>
    <div id="postedJobs" class="enhanced-grid"></div>
    <div id="noJobsMessage" class="no-content-message"><i class="fas fa-briefcase"></i><p>No jobs posted yet</p></div>
  </div>

  <!-- Alerts -->
  <div id="alerts" class="content">
    <h2><i class="fas fa-exclamation-triangle"></i> Job Alerts</h2>
    <div class="alert-stats">
      <span class="stat-badge urgent">Urgent: <span id="urgentAlertCount">0</span></span>
      <span class="stat-badge normal">Normal: <span id="normalAlertCount">0</span></span>
    </div>
    <div id="dynamicJobAlerts" class="enhanced-grid"></div>
    <div id="noAlertsMessage" class="no-content-message"><i class="fas fa-bell-slash"></i><p>No active alerts</p></div>
  </div>
</div>

<div id="loadingOverlay" class="loading-overlay">
  <div class="loading-content"><i class="fas fa-spinner fa-spin"></i><p>Processing...</p></div>
</div>

<script>
  // Tab switching
  document.querySelectorAll('.tab').forEach(tab=>{
    tab.addEventListener('click',()=>{
      document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
      document.querySelectorAll('.content').forEach(c=>c.classList.remove('active'));
      tab.classList.add('active');
      document.getElementById(tab.dataset.tab).classList.add('active');
    });
  });

  // Theme toggle
  const themeToggle=document.querySelector('.theme-toggle');
  themeToggle.addEventListener('click',()=>{
    document.body.classList.toggle('dark-mode');
    const text=themeToggle.querySelector('.theme-text');
    text.textContent=document.body.classList.contains('dark-mode')?' Dark':' Light';
  });

  // Job posting
  const jobs=[];
  document.getElementById('labourForm').addEventListener('submit',e=>{
    e.preventDefault();
    const job={
      workType:workType.value, peopleCount:peopleCount.value,
      date:date.value, duration:duration.value,
      village:village.value, location:location.value,
      address:address.value, wage:wage.value,
      contact:contact.value, additionalInfo:additionalInfo.value
    };
    jobs.push(job);
    renderJobs();
    e.target.reset();
  });

  function renderJobs(){
    const posted=document.getElementById('postedJobs');
    posted.innerHTML='';
    if(jobs.length===0){
      noJobsMessage.style.display='block';
    } else {
      noJobsMessage.style.display='none';
      jobs.forEach(job=>{
        const div=document.createElement('div');
        div.className='job-card';
        div.innerHTML=`
          <h4>${job.workType} (${job.peopleCount} people)</h4>
          <p><strong>Date:</strong> ${job.date} | <strong>Duration:</strong> ${job.duration} days</p>
          <p><strong>Location:</strong> ${job.village}, ${job.location}</p>
          <p><strong>Wage:</strong> ‚Çπ${job.wage} | <strong>Contact:</strong> ${job.contact}</p>
          <p>${job.additionalInfo}</p>`;
        posted.appendChild(div);
      });
    }
    activeJobCount.textContent=jobs.length;
  }
</script>
</body>
</html>
